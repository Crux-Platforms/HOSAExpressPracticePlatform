<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title>Turner Fenton DECA</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./css/submitStyles.css">
    <link rel="icon" href="decaLogo.png">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous">
    <script src="script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Cabin:wght@600&family=DM+Serif+Text&family=Gothic+A1:wght@200;300;400;500;600;700;800;900&family=IBM+Plex+Sans:wght@100;200;300;400;600&family=Lato:wght@300;400;700&family=Montserrat:wght@200;300;400;500;600;800&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet">

  </head>

  <body>
    
    <section class="encapsule">

      <div class="test">
        <div class="resultsCard">
          <h1 class="title">Results</h1>
          <div class="containerForStats">
            <h3 class="stats1">Questions Right: </h3>
            <h3 class="stats"><%= results.correct %></h3>
          </div>
          <div class="containerForStats">
            <h3 class="stats1">Questions Wrong: </h3>
            <h3 class="stats"><%= results.incorect %></h3>
          </div>
          <div class="containerForStats">
            <h3 class="stats1">Total Questions: </h3>
            <h3 class="stats"><%= number %></h3>
          </div>
          <div class="containerForStats">
            <h3 class="stats1">Total percentage: </h3>
            <h3 class="stats"><%= results.correct*100/number%>% </h3>
          </div>
        <hr>
        </div>


        <form id="testForm" action="/done" method="post">

          <% for(var i = 0; i < number; i++){ %>

          <div class="questionCard">

            <h6
              class="<%= questions[i].Answer === answers[i] ? 'green' : 'red' %> mainQ">
              <strong id="strong"><em><%= i+1 %>.</em></strong> <%=questions[i].Question %></h6>
            <button class="dropdownToggle" type="button">
              <img class="dropdownArrow" src="./drop-down-arrow.png">
            </button>

            <div class="H optionToChose<%=i%>">
              <label class="inline-label">
                <input type="radio"
                  style="margin-bottom: 13px; margin-right: 5px;"
                  name=<%=i%> value="A" required <% if(answers[i] === 'A') { %>
                checked <%}else{%> disabled <%}%>>
                <p class="<%= questions[i].Answer === 'A' ? 'green2' : '' %> answers"><strong class="strong2">A.</strong>
                  <%= questions[i].OptionOne %></p>
              </label>
              <br>
            </div>
            <div class="H optionToChose<%=i%>">
              <label class="inline-label">
                <input type="radio"
                  style="margin-bottom: 13px; margin-right: 5px;"
                  name=<%=i%> value="B" required <% if(answers[i] === 'B') { %>
                checked <%}else{%> disabled <%}%>>
                <p class="<%= questions[i].Answer === 'B' ? 'green2' : '' %> answers"><strong class="strong2">B.</strong>
                  <%=questions[i].OptionTwo %></p>
              </label>
              <br>
            </div>
            <div class="H optionToChose<%=i%>">
              <label class="inline-label">
                <input type="radio"
                  style="margin-bottom: 13px; margin-right: 5px;"
                  name=<%=i%> value="C" required <% if(answers[i] === 'C') { %>
                checked <%}else{%> disabled <%}%>>
                <p class="<%= questions[i].Answer === 'C' ? 'green2' : '' %> answers"><strong class="strong2">C.</strong>
                  <%=questions[i].OptionThree %></p>
              </label>
              <br>
            </div>
            <div class="H optionToChose<%=i%>">
              <label class="inline-label">
                <input type="radio"
                  style="margin-bottom: 13px; margin-right: 5px;"
                  name=<%=i%> value="D" required <% if(answers[i] === 'D') { %>
                checked <%}else{%> disabled <%}%>>
                <p class="<%= questions[i].Answer === 'D' ? 'green2' : '' %> answers"><strong class="strong2">D.</strong>
                  <%=questions[i].OptionFour %></p>
              </label>
              <br>
            </div>

          </div>
          <% } %>
          <button type="submit" class="testButton"> Home </button>
        </form>

      </div>
    </section>
    <script>
      const elements = document.getElementsByClassName('dropdownToggle');

      for (let i = 0; i < 100; i++) {
        elements[i].addEventListener('click', () => {
          console.log("hi")
          const buttons = Array.from(document.getElementsByClassName('optionToChose' + i));
          buttons.forEach(e => {
            e.classList.toggle('H');
          });
        });
      }
    </script>

  </body>

</html>
